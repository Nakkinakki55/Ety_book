<!doctype html>
<html lang="ja">

<head>
    <meta http-equiv="content-type" charset="UTF-8">
    <title>Ety-Book</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel='stylesheet' href='/stylesheets/common.css?ver=1.0.2' />
    <link rel="icon" href="/images/favicon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
</head>

<body class="pt-5">
    <%- include('partials/header') %>
        <div class="container pt-5">
            <form method="POST" action="<%= locals.action ? action :null%>">

                <h4 class="bg-purpule text-white text-center p-2">単語</h4>
                <input type="hidden" name="id" value="<%= locals.id ? id :null%>" class="form-control text-center border border-dark border-1">
                <input type="text" name="mainWord" value="<%= locals.mainWord ? mainWord :null%>" class="form-control text-center border border-dark border-1" maxlength="100" pattern=".*[^\s]+.*">
                <label id="error-message" class="text-center text-danger" style="display: none;">
                    </label>

                <h4 class="bg-purpule text-white text-center p-2 mt-5">意味</h4>
                <table class="table table-borderless">
                    <tbody>
                        <tr>
                            <td><input type="text" name="mean01" value="<%= locals.mean01 ? mean01 :null%>" class="form-control border border-dark border-1" maxlength="100"></td>
                            <td><input type="text" name="mean02" value="<%= locals.mean02 ? mean02 :null%>" class="form-control border border-dark border-1" maxlength="100"></td>
                            <td><input type="text" name="mean03" value="<%= locals.mean03 ? mean03 :null%>" class="form-control border border-dark border-1" maxlength="100"></td>
                        </tr>
                        <tr>
                            <td><input type="text" name="mean04" value="<%= locals.mean04 ? mean04 :null%>" class="form-control border border-dark border-1" maxlength="100"></td>
                            <td><input type="text" name="mean05" value="<%= locals.mean05 ? mean05 :null%>" class="form-control border border-dark border-1" maxlength="100"></td>
                            <td><input type="text" name="mean06" value="<%= locals.mean06 ? mean06 :null%>" class="form-control border border-dark border-1" maxlength="100"></td>
                        </tr>

                        <tr>
                            <td><input type="text" name="mean07" value="<%= locals.mean07 ? mean07 :null%>" class="form-control border border-dark border-1" maxlength="100"></td>
                            <td><input type="text" name="mean08" value="<%= locals.mean08 ? mean08 :null%>" class="form-control border border-dark border-1" maxlength="100"></td>
                            <td><input type="text" name="mean09" value="<%= locals.mean09 ? mean09 :null%>" class="form-control border border-dark border-1" maxlength="100"></td>
                        </tr>
                    </tbody>
                </table>
                <h4 class="bg-purpule text-white text-center p-2 mt-5">語源</h4>
                <table class="table table-borderless">
                    <tbody>
                        <tr>
                            <td><input type="text" class="form-control border border-dark border-1" name="etymology01" id="ety01_input" value="<%= locals.etymology01 ? etymology01 :null%>" placeholder="語源" maxlength="100" autocomplete="on" list="ety01list"
                                    onfocusout="InputLeave('ety01_input','ety01_input_mean','<%= locals.ajaxUrl ? ajaxUrl :null%>')">
                                <datalist id="ety01list">
                                    <% if (items) { %>
                                        <% items.forEach((item) => { %>
                                          <option value="<%= item.etymology %>"></option>
                                        <% }) %>
                                      <% } %>
                                      
                                </datalist>
                                <td><input type="text" class="form-control border border-dark border-1" name="etymology_mean01" id="ety01_input_mean" value="<%= locals.etymology_mean01 ? etymology_mean01 :null%>" placeholder="意味" maxlength="100"></td>
                        </tr>
                        <tr>
                            <td><input type="text" class="form-control border border-dark border-1" name="etymology02" id="ety02_input" value="<%= locals.etymology02 ? etymology02 :null%>" placeholder="語源" maxlength="100" autocomplete="on" list="ety02list"
                                    onfocusout="InputLeave('ety02_input','ety02_input_mean','<%= locals.ajaxUrl ? ajaxUrl :null%>')">
                                <datalist id="ety02list">
                                    <% if (items) { %>
                                        <% items.forEach((item) => { %>
                                          <option value="<%= item.etymology %>"></option>
                                        <% }) %>
                                      <% } %>
                                      
                                </datalist>
                            </td>
                            <td><input type="text" class="form-control border border-dark border-1" name="etymology_mean02" id="ety02_input_mean" value="<%= locals.etymology_mean02 ? etymology_mean02 :null%>" placeholder="意味" maxlength="100"> </td>
                        </tr>
                        <tr>
                            <td><input type="text" class="form-control border border-dark border-1" name="etymology03" id="ety03_input" value="<%= locals.etymology03 ? etymology03 :null%>" placeholder="語源" maxlength="100" autocomplete="on" list="ety03list"
                                    onfocusout="InputLeave('ety03_input','ety03_input_mean','<%= locals.ajaxUrl ? ajaxUrl :null%>')">
                                <datalist id="ety03list">
                                    <% if (items) { %>
                                        <% items.forEach((item) => { %>
                                          <option value="<%= item.etymology %>"></option>
                                        <% }) %>
                                      <% } %>
                                      
                                </datalist>
                            </td>
                            <td><input type="text" class="form-control border border-dark border-1" name="etymology_mean03" id="ety03_input_mean" value="<%= locals.etymology_mean03 ? etymology_mean03 :null%>" placeholder="意味" maxlength="100"></td>
                        </tr>
                        <tr>
                            <td>
                                <a class="text-right" href="/introduction_faq">
                                    語源の調べ方
                                    </a>
                            </td>
                        </tr>

                    </tbody>
                </table>

                <h4 class="bg-purpule text-white text-center p-2 mt-5">関連語</h4>
                <table class="table table-borderless">
                    <tbody>
                        <tr>
                            <td><input type="text" name="relatedWord01" value="<%= locals.relatedWord01 ? relatedWord01 :null%>" class="form-control border border-dark border-1" maxlength="100"></td>
                            <td><input type="text" name="relatedWord02" value="<%= locals.relatedWord02 ? relatedWord02 :null%>" class="form-control border border-dark border-1" maxlength="100"></td>
                            <td><input type="text" name="relatedWord03" value="<%= locals.relatedWord03 ? relatedWord03 :null%>" class="form-control border border-dark border-1" maxlength="100"> </td>
                        </tr>
                        <tr>
                            <td><input type="text" name="relatedWord04" value="<%= locals.relatedWord04 ? relatedWord04 :null%>" class="form-control border border-dark border-1" maxlength="100"> </td>
                            <td><input type="text " name="relatedWord05" value="<%= locals.relatedWord05 ? relatedWord05 :null%>" class="form-control border border-dark border-1" maxlength="100"></td>
                            <td><input type="text " name="relatedWord06" value="<%= locals.relatedWord06 ? relatedWord06 :null%>" class="form-control border border-dark border-1" maxlength="100"> </td>
                        </tr>

                        <tr>
                            <td><input type="text " name="relatedWord07" value="<%= locals.relatedWord07 ? relatedWord07 :null%>" class="form-control border border-dark border-1" maxlength="100"></td>
                            <td><input type="text " name="relatedWord08" value="<%= locals.relatedWord08 ? relatedWord08 :null%>" class="form-control border border-dark border-1" maxlength="100"></td>
                            <td><input type="text " name="relatedWord09" value="<%= locals.relatedWord09 ? relatedWord09 :null%>" class="form-control border border-dark border-1" maxlength="100"></td>
                        </tr>
                        <tr>
                            <td><input type="text " name="relatedWord10" value="<%= locals.relatedWord10 ? relatedWord10 :null%>" class="form-control border border-dark border-1" maxlength="100"></td>
                            <td><input type="text " name="relatedWord11" value="<%= locals.relatedWord11 ? relatedWord11 :null%>" class="form-control border border-dark border-1" maxlength="100"></td>
                            <td><input type="text " name="relatedWord12" value="<%= locals.relatedWord12 ? relatedWord12 :null%>" class="form-control border border-dark border-1" maxlength="100"></td>
                        </tr>
                    </tbody>
                </table>
                <h4 class="bg-purpule text-white text-center p-2 mt-5">例文</h4>
                <input type="text" class="form-control border border-dark border-1 mt-1" name="exampleSentence01" value="<%=locals.exampleSentence01 ? exampleSentence01 :null%>" placeholder="英文" maxlength="1000">
                <input type="text" class="form-control border border-dark border-1 mt-1" name="exampleSentence_JPN_01" value="<%= locals.exampleSentence_JPN_01 ? exampleSentence_JPN_01 :null%>" placeholder="日本語訳" maxlength="1000">
                <input type="text" class="form-control border border-dark border-1 mt-1" name="exampleSentence_source_01" value="<%= locals.exampleSentence_source_01 ? exampleSentence_source_01 :null%>" placeholder="出典" maxlength="1000">
                <input type="text" class="form-control border border-dark border-1 mt-1" name="exampleSentence_URL_01" value="<%= locals.exampleSentence_URL_01 ? exampleSentence_URL_01 :null%>" placeholder="URL" maxlength="1000">

                <input type="text" class="form-control border border-dark border-1 mt-5" name="exampleSentence02" value="<%= locals.exampleSentence02 ? exampleSentence02 :null%>" placeholder="英文" maxlength="1000">
                <input type="text" class="form-control border border-dark border-1 mt-1" name="exampleSentence_JPN_02" value="<%= locals.exampleSentence_JPN_02 ? exampleSentence_JPN_02 :null%>" placeholder="日本語訳" maxlength="1000">
                <input type="text" class="form-control border border-dark border-1 mt-1" name="exampleSentence_source_02" value="<%= locals.exampleSentence_source_02 ? exampleSentence_source_02 :null%>" placeholder="出典" maxlength="1000">
                <input type="text" class="form-control border border-dark border-1 mt-1" name="exampleSentence_URL_02" value="<%= locals.exampleSentence_URL_02 ? exampleSentence_URL_02 :null%>" placeholder="URL" maxlength="1000">

                <input type="text" class="form-control border border-dark border-1 mt-5" name="exampleSentence03" value="<%= locals.exampleSentence03 ? exampleSentence03 :null%>" placeholder="英文" maxlength="1000">
                <input type="text" class="form-control border border-dark border-1 mt-1" name="exampleSentence_JPN_03" value="<%= locals.exampleSentence_JPN_03 ? exampleSentence_JPN_03 :null%>" placeholder="日本語訳" maxlength="1000">
                <input type="text" class="form-control border border-dark border-1 mt-1" name="exampleSentence_source_03" value="<%= locals.exampleSentence_source_03 ? exampleSentence_source_03 :null%>" placeholder="出典" maxlength="1000">
                <input type="text" class="form-control border border-dark border-1 mt-1" name="exampleSentence_URL_03" value="<%= locals.exampleSentence_URL_03 ? exampleSentence_URL_03 :null%>" placeholder="URL" maxlength="1000">

                <input type="text" class="form-control border border-dark border-1 mt-5" name="exampleSentence04" value="<%= locals.exampleSentence04 ? exampleSentence04 :null%>" placeholder="英文" maxlength="1000">
                <input type="text" class="form-control border border-dark border-1 mt-1" name="exampleSentence_JPN_04" value="<%= locals.exampleSentence_JPN_04 ? exampleSentence_JPN_04 :null%>" placeholder="日本語訳" maxlength="1000">
                <input type="text" class="form-control border border-dark border-1 mt-1" name="exampleSentence_source_04" value="<%= locals.exampleSentence_source_04 ? exampleSentence_source_04 :null%>" placeholder="出典" maxlength="1000">
                <input type="text" class="form-control border border-dark border-1 mt-1" name="exampleSentence_URL_04" value="<%= locals.exampleSentence_URL_04 ? exampleSentence_URL_04 :null%>" placeholder="URL" maxlength="1000">

                <h4 class="bg-purpule text-white text-center p-2 mt-5">メモ</h4>
                <div class="form-row">
                    <div class="form-group col-12">
                        <textarea class="form-control border border-dark border-1" name="wordRegisterMemo" rows="5" maxlength="3000"><%= locals.wordRegisterMemo ? wordRegisterMemo :null%></textarea>
                    </div>
                </div>

                <div class="row mt-5 mb-5 pb-5">
                    <div class="col text-center">
                        <button type="submit" class="btn btn-secondary btnx-purpule col-5 btn-lg bi bi-icon-2 bi-upload col"></button>
            </form>

            </div>
            </div>

        </div>
        </div>
        <script>
            window.onload = function() {
                let arrMean = ['ety01_input_mean', 'ety02_input_mean', 'ety03_input_mean'];

                for (let i = 0; i < arrMean.length; ++i) {
                    let element02 = document.getElementById(arrMean[i]);
                    if (element02.value) {
                        element02.readOnly = true;
                    }
                }

            };
        </script>
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                const form = document.querySelector("form");
                const mainWordField = document.querySelector('input[name="mainWord"]');

                form.addEventListener("submit", function(event) {
                    if (mainWordField.value.trim() === "" || !/.*[^\s]+.*/.test(mainWordField.value)) {
                        event.preventDefault(); // フォームの送信を防ぐ

                        // エラーメッセージを表示
                        const errorMessage = document.getElementById("error-message");
                        errorMessage.textContent = "単語を入力してください。";
                        errorMessage.style.display = "block";

                        // ページの一番先頭までスクロール
                        window.scrollTo(0, 0);

                        // フォームフィールドにフォーカスを移動
                        mainWordField.focus();

                    }
                });
            });
        </script>


        <%- include('partials/footer') %>